---
import calculateWidthFit from "../../../lib/utils/calculateWidthFit";

const { key, htmlString, sizeClass="w-16", heightSize="35" } = Astro.props;


const widthMatch = htmlString.match(/width=["']?(\d+)["']?/);
const widthValue = widthMatch ? widthMatch[1] : null;

const heightMatch = htmlString.match(/height=["']?(\d+)["']?/);
const heightValue = heightMatch ? heightMatch[1] : null;

const updatedSVG = htmlString.replace(/width=["']?(\d+)["']?/, `width="${calculateWidthFit(Number(widthValue), Number(heightValue), Number(heightSize))}px"`).replace(/height=["']?(\d+)["']?/, `height="${heightSize}px"`);

---

<div class=`${sizeClass} group flex flex-col items-center gap-y-3`>
  <div class="hover:drop-shadow-md group-hover:scale-110 transition-all duration-300 ease-in-out" set:html={updatedSVG}></div>
  <p class="text-center text-my-white text-sm visible md:invisible md:opacity-0 group-hover:md:visible group-hover:md:opacity-100 transition-all duration-300 ease-in-out">
    {key}
  </p>
</div>